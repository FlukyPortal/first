<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fluky Verification</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-color: #111;
            color: #e5e5e5;
            font-family: 'Inter', sans-serif;
        }

        .zin-bg {
            background: radial-gradient(circle at 50% 50%, #222, #000);
        }

        .task-card {
            background: linear-gradient(145deg, #1a1a1a, #222);
            border: 1px solid #333;
            transition: all 0.3s ease;
        }

        .task-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .verification-box {
            border: 2px dashed #444;
            background-color: #1a1a1a;
        }

        .countdown {
            color: #888;
        }

        .creepy-text {
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
            letter-spacing: 2px;
        }

        .hidden-data {
            display: none;
        }

        .fluky-logo {
            letter-spacing: 0.2em;
            font-weight: 300;
        }

        .terminal-line {
            position: relative;
            padding-left: 1.5em;
            color: #999;
        }

        .terminal-line::before {
            content: ">";
            position: absolute;
            left: 0;
            color: #666;
        }
    </style>
</head>

<body class="zin-bg min-h-screen">
    <!-- Hidden data storage -->
    <div class="hidden-data" id="userData"></div>
    <div class="hidden-data" id="taskData"></div>

    <!-- Auth Container -->
    <div class="container mx-auto px-4 py-16 max-w-md" id="authContainer">
        <div class="bg-black p-8 rounded-lg shadow-2xl border border-gray-800">
            <h1 class="text-4xl font-light text-center mb-2 text-white fluky-logo">FLUKY</h1>
            <p class="text-center text-gray-500 mb-8 terminal-line">VERIFICATION PORTAL v3.1.4</p>

            <!-- Login Form -->
            <div id="loginForm">
                <h2 class="text-xl font-semibold mb-6 text-gray-300">SIGN IN</h2>
                <div class="mb-4">
                    <label class="block text-gray-400 mb-2">EMAIL</label>
                    <input type="email" id="loginEmail"
                        class="w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-gray-500 text-white">
                </div>
                <div class="mb-6">
                    <label class="block text-gray-400 mb-2">PASSWORD</label>
                    <input type="password" id="loginPassword"
                        class="w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-gray-500 text-white">
                </div>
                <button onclick="login()"
                    class="w-full bg-white text-black py-2 px-4 rounded font-bold hover:bg-gray-200 transition duration-200 mb-4">ENTER</button>
                <p class="text-gray-500 text-center">NO ACCOUNT? <span onclick="showSignup()"
                        class="text-white cursor-pointer hover:underline">REGISTER</span></p>
            </div>

            <!-- Signup Form -->
            <div id="signupForm" class="hidden">
                <h2 class="text-xl font-semibold mb-6 text-gray-300">REGISTER</h2>
                <div class="mb-4">
                    <label class="block text-gray-400 mb-2">EMAIL</label>
                    <input type="email" id="signupEmail"
                        class="w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-gray-500 text-white">
                </div>
                <div class="mb-4">
                    <label class="block text-gray-400 mb-2">PASSWORD</label>
                    <input type="password" id="signupPassword"
                        class="w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-gray-500 text-white">
                </div>
                <div class="mb-6">
                    <label class="block text-gray-400 mb-2">CONFIRM PASSWORD</label>
                    <input type="password" id="signupConfirmPassword"
                        class="w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded focus:outline-none focus:border-gray-500 text-white">
                </div>
                <button onclick="signup()"
                    class="w-full bg-white text-black py-2 px-4 rounded font-bold hover:bg-gray-200 transition duration-200 mb-4">CREATE
                    ACCOUNT</button>
                <p class="text-gray-500 text-center">ALREADY HAVE AN ACCOUNT? <span onclick="showLogin()"
                        class="text-white cursor-pointer hover:underline">SIGN IN</span></p>
            </div>
        </div>
    </div>

    <!-- Dashboard Container -->
    <div class="container mx-auto px-4 py-8 hidden" id="dashboardContainer">
        <div class="flex justify-between items-center mb-8">
            <div>
                <h1 class="text-2xl font-light text-white fluky-logo">FLUKY</h1>
                <p class="text-gray-400 terminal-line">USER: <span id="currentUserEmail"
                        class="text-white">user@example.com</span></p>
            </div>
            <button onclick="logout()"
                class="bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded">LOGOUT</button>
        </div>

        <div class="mb-8">
            <div class="bg-black p-4 rounded-lg border border-gray-800">
                <h2 class="text-xl font-semibold mb-2 text-white">STATUS</h2>
                <div class="flex justify-between items-center">
                    <div>
                        <p class="text-gray-400">Tasks Completed: <span id="completedTasks"
                                class="text-white">0</span>/5</p>
                    </div>
                    <div id="statusBadge" class="bg-gray-800 text-white px-3 py-1 rounded-full text-sm">
                        ACTIVE
                    </div>
                </div>
            </div>
        </div>

        <!-- Tasks Container -->
        <div id="tasksContainer" class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <!-- Tasks will be dynamically inserted here -->
        </div>

        <!-- Verification Modal -->
        <div id="verificationModal"
            class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center hidden z-50">
            <div class="bg-black p-6 rounded-lg border border-gray-800 max-w-md w-full">
                <h3 class="text-xl font-bold mb-4 text-white" id="verificationTaskTitle">VERIFY TASK</h3>
                <div class="verification-box rounded-lg p-4 mb-4 flex justify-center">
                    <img id="verificationImagePreview" src="" alt="Verification Image" class="max-h-64 hidden">
                    <p id="verificationPlaceholder" class="text-gray-500 text-center py-8">NO IMAGE SELECTED</p>
                </div>
                <input type="file" id="verificationImageInput" accept="image/*" class="hidden">
                <button onclick="document.getElementById('verificationImageInput').click()"
                    class="w-full bg-gray-800 hover:bg-gray-700 text-white py-2 px-4 rounded mb-4">SELECT IMAGE</button>
                <div class="countdown text-center mb-4 hidden" id="countdown">VERIFYING IN: <span
                        id="countdownValue">10</span>s</div>
                <button id="verifyButton" onclick="startVerification()"
                    class="w-full bg-white text-black py-2 px-4 rounded font-bold hover:bg-gray-200 transition duration-200">VERIFY</button>
                <button onclick="cancelVerification()"
                    class="w-full bg-gray-800 hover:bg-gray-700 text-white py-2 px-4 rounded mt-2">CANCEL</button>
            </div>
        </div>

        <!-- Completion Modal -->
        <div id="completionModal"
            class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center hidden z-50">
            <div class="bg-black p-8 rounded-lg border border-gray-800 max-w-md w-full text-center">
                <h3 class="text-2xl font-bold mb-6 text-white creepy-text">PROCESSING COMPLETE</h3>
                <p class="text-gray-300 mb-6">ALL TASKS HAVE BEEN VERIFIED</p>
                <p class="text-xl font-bold text-white mb-6 creepy-text">YOU ARE ELIGIBLE</p>
                <p class="text-gray-500 text-sm">YOUR ACCESS HAS BEEN PERMANENTLY REVOKED</p>
            </div>
        </div>
    </div>

    <script>
        // Initialize data structures
        if (!localStorage.getItem('users')) {
            localStorage.setItem('users', JSON.stringify([]));
        }
        if (!localStorage.getItem('tasks')) {
            const defaultTasks = [
                { id: 1, title: "FOLLOW ON YOUTUBE", description: "Subscribe to our YouTube channel and verify", completed: false, verified: false, image: null },
                { id: 2, title: "FOLLOW ON TWITTER", description: "Follow us on Twitter/X and verify", completed: false, verified: false, image: null },
                { id: 3, title: "JOIN DISCORD", description: "Join our Discord server and verify", completed: false, verified: false, image: null },
                { id: 4, title: "FOLLOW ON INSTAGRAM", description: "Follow us on Instagram and verify", completed: false, verified: false, image: null },
                { id: 5, title: "LIKE FACEBOOK PAGE", description: "Like our Facebook page and verify", completed: false, verified: false, image: null }
            ];
            localStorage.setItem('tasks', JSON.stringify(defaultTasks));
        }

        // DOM elements
        const authContainer = document.getElementById('authContainer');
        const dashboardContainer = document.getElementById('dashboardContainer');
        const loginForm = document.getElementById('loginForm');
        const signupForm = document.getElementById('signupForm');
        const tasksContainer = document.getElementById('tasksContainer');
        const verificationModal = document.getElementById('verificationModal');
        const completionModal = document.getElementById('completionModal');
        const verificationImagePreview = document.getElementById('verificationImagePreview');
        const verificationPlaceholder = document.getElementById('verificationPlaceholder');
        const verificationImageInput = document.getElementById('verificationImageInput');
        const countdownElement = document.getElementById('countdown');
        const countdownValue = document.getElementById('countdownValue');
        const verifyButton = document.getElementById('verifyButton');
        const completedTasksElement = document.getElementById('completedTasks');
        const statusBadge = document.getElementById('statusBadge');
        const currentUserEmail = document.getElementById('currentUserEmail');

        // State variables
        let currentUser = localStorage.getItem('currentUser') || null;
        let currentTaskId = null;
        let countdownInterval = null;

        // Event listeners
        verificationImageInput.addEventListener('change', function (e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (event) {
                    verificationImagePreview.src = event.target.result;
                    verificationImagePreview.classList.remove('hidden');
                    verificationPlaceholder.classList.add('hidden');
                };
                reader.readAsDataURL(file);
            }
        });

        // Navigation functions
        function showSignup() {
            loginForm.classList.add('hidden');
            signupForm.classList.remove('hidden');
        }

        function showLogin() {
            signupForm.classList.add('hidden');
            loginForm.classList.remove('hidden');
        }

        // Auth functions
        function signup() {
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('signupConfirmPassword').value;

            if (!email || !password || !confirmPassword) {
                alert('Please fill all fields');
                return;
            }

            if (password !== confirmPassword) {
                alert('Passwords do not match');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users'));
            const userExists = users.some(user => user.email === email);

            if (userExists) {
                alert('User already exists');
                return;
            }

            users.push({ email, password });
            localStorage.setItem('users', JSON.stringify(users));

            alert('Account created successfully');
            showLogin();
        }

        function login() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            if (!email || !password) {
                alert('Please fill all fields');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users'));
            const user = users.find(user => user.email === email && user.password === password);

            if (!user) {
                alert('Invalid credentials');
                return;
            }

            currentUser = email;
            localStorage.setItem('currentUser', email);
            authContainer.classList.add('hidden');
            dashboardContainer.classList.remove('hidden');
            loadDashboard();
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            dashboardContainer.classList.add('hidden');
            authContainer.classList.remove('hidden');
            showLogin();
        }

        // Dashboard functions
        function loadDashboard() {
            const tasks = JSON.parse(localStorage.getItem('tasks'));
            tasksContainer.innerHTML = '';
            currentUserEmail.textContent = currentUser;

            let completedCount = 0;
            tasks.forEach(task => {
                if (task.completed) completedCount++;

                const taskCard = document.createElement('div');
                taskCard.className = 'task-card rounded-lg p-4 cursor-pointer';
                if (task.completed) {
                    taskCard.classList.add('opacity-60');
                }
                taskCard.innerHTML = `
                    <h3 class="font-bold text-lg mb-2 text-white">${task.title}</h3>
                    <p class="text-gray-400 mb-4">${task.description}</p>
                    <div class="flex justify-between items-center">
                        <span class="text-xs ${task.completed ? 'text-gray-300' : 'text-gray-500'}">
                            ${task.completed ? 'VERIFIED' : 'PENDING'}
                        </span>
                        <button onclick="event.stopPropagation(); openVerificationModal(${task.id})" class="bg-gray-800 hover:bg-gray-700 text-white px-3 py-1 rounded text-sm ${task.completed ? 'hidden' : ''}">
                            VERIFY
                        </button>
                    </div>
                `;
                tasksContainer.appendChild(taskCard);
            });

            completedTasksElement.textContent = completedCount;

            if (completedCount === 5) {
                statusBadge.textContent = 'COMPLETED';
                statusBadge.classList.remove('bg-gray-800');
                statusBadge.classList.add('bg-gray-600');
                setTimeout(() => {
                    completionModal.classList.remove('hidden');
                }, 1000);
            }
        }

        // Verification functions
        function openVerificationModal(taskId) {
            currentTaskId = taskId;
            const tasks = JSON.parse(localStorage.getItem('tasks'));
            const task = tasks.find(t => t.id === taskId);

            document.getElementById('verificationTaskTitle').textContent = `VERIFY: ${task.title}`;
            verificationImagePreview.src = '';
            verificationImagePreview.classList.add('hidden');
            verificationPlaceholder.classList.remove('hidden');
            verificationImageInput.value = '';
            countdownElement.classList.add('hidden');
            verifyButton.disabled = false;
            verifyButton.textContent = 'VERIFY';

            verificationModal.classList.remove('hidden');
        }

        function cancelVerification() {
            clearInterval(countdownInterval);
            verificationModal.classList.add('hidden');
        }

        function startVerification() {
            if (!verificationImageInput.files[0]) {
                alert('Please select an image first');
                return;
            }

            verifyButton.disabled = true;
            verifyButton.textContent = 'VERIFYING...';
            countdownElement.classList.remove('hidden');

            let seconds = 10;
            countdownValue.textContent = seconds;

            countdownInterval = setInterval(() => {
                seconds--;
                countdownValue.textContent = seconds;

                if (seconds <= 0) {
                    clearInterval(countdownInterval);
                    completeVerification();
                }
            }, 1000);
        }

        function completeVerification() {
            const tasks = JSON.parse(localStorage.getItem('tasks'));
            const taskIndex = tasks.findIndex(t => t.id === currentTaskId);

            if (taskIndex !== -1) {
                const file = verificationImageInput.files[0];
                const reader = new FileReader();

                reader.onload = function (event) {
                    tasks[taskIndex].completed = true;
                    tasks[taskIndex].verified = true;
                    tasks[taskIndex].image = event.target.result;

                    localStorage.setItem('tasks', JSON.stringify(tasks));

                    verificationModal.classList.add('hidden');
                    loadDashboard();
                };

                reader.readAsDataURL(file);
            }
        }

        // Initialize the app
        window.addEventListener('DOMContentLoaded', () => {
            if (currentUser) {
                authContainer.classList.add('hidden');
                dashboardContainer.classList.remove('hidden');
                loadDashboard();
            }
        });
    </script>
</body>

</html>